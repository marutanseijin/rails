# create a sample application

```terminal
$ cd [rails work dir]
$ rails new asagao -BCMT --skip-cofee -d sqlite3
$ cd asagao

# create Gemfile.lock("--add-platfrom" option includes file for MSYS2/MinGW)
$ bundle lock --add-platform x64-mingw32 x86-mingw32

# install gem packages
$ bundle install 
```

# configure for sample application

it makas it easier to learn rails app by reducing file will be generated by `bin/rails g` command

```ruby:config/initializers/generators.rb
Rails.application.config.generators do |g|
   g.helper false   # do not generate helper
   g.assets false   # do not generate CSS, JavaScript
   g.skip_routes true   # do not change config/routes.rb
   g.test_framework false   # do not generate test scripts 
end
```

# generate controller 

you can generate controller by using `bin/rails g controller [name of controller] [name of action]`

```terminal
$ bin/rails g controller top index 
```

goto see `controller/top_controller.rb` generated

# configure routing

edit `routes.rb` to bind controller to url

```ruby:config/routes.rb
Rails.application.routes.draw do 
   root "top#index"
end
```

you can see page has been changed after rebooting

For details on the DSL available within `routes.rb`, see http://guides.rubyonrails.org/routing.html

# building view

there is a file automatically generated by `rails g` command 
file: `views/top/index.html.erb` 

## using variables 

```ruby:top_controller.rb
class TopController < ApplicationController
  def index
     @message = "message from controller"
  end
end
```

```ruby:views/top/index.html.erb
<h1>Hello</h1>
<p><%= @message %></p>
```

# trouble shoot

- "Could not verify the SSL certificate for https://rubygems.org/"

```terminal
# confirm openssl installed
$ openssl version

# if not installed
$ yum -y install openssl

# confirm certificate that the ruby uses
$ sudo ruby -ropenssl -e "p OpenSSL::X509::DEFAULT_CERT_FILE"
$ brew install curl-ca-bundle
$ cp [ca-bundle location] [certificate location]
```

see https://qiita.com/hotchpotch/items/12457815d5cee3723b97